#FUNCTION HEADER
# NAME :  RmLintFunc 
# DESCRIPTION: Function for crmlint - 
#find duplicate files and other space waste efficiently
# PROCESS : rmlint scan 
#NOTES :    needs rmlint installed
function RmLintFunc
{
	clear
	msgFunc green "Running rmlint"
cat <<-EOF
rmlint finds space waste and other broken things on your filesystem.
It then produces a report and a shellscript called rmlint.sh that 
contains readily prepared shell commands to remove duplicates and other 
finds. cylon wrapper  will scan, then optionally show report and then  
optionally execute the rmlint.sh.
EOF
	     #check crmlint is installed
            
            if ! msgFunc checkpac rmlint
				then
				msgFunc anykey 
				return
			fi
			msgFunc line
			msgFunc norm "Type a  directory path you wish to scan:-"
			read -r rmlintPath	            
		     cd "$rmlintPath" || exitHandlerFunc dest4
			msgFunc norm " "
			msgFunc green "Press g for progress bar any other key for list [g/L]"
			read -r choicermlint
			if [ "$choicermlint" = "g" ]
				then
					# run with progress bar 
					rmlint -g
				else
					rmlint
			fi
			msgFunc line
			msgFunc anykey
			#display the results file option? 
			msgFunc green "Display results file? press Any key or n to quit [Y/n]"
			read -r choicermlint1
			if [ "$choicermlint1" != "n" ]
			then
				msgFunc green  "rmlint output file"
				more rmlint.json		
				msgFunc line
				msgFunc anykey
				#run the shell option?
				msgFunc green "Execute rmlint.sh file? press e or any key to quit [e/N]"
				msgFunc red "Warning rmlint.sh will change your system based on results of the previous scan"
			    read -r choicermlint2
					if [ "$choicermlint2" = "e" ]
					then
						msgFunc green  "running rmlint.sh output file"
						./rmlint.sh -d
					else
						msgFunc green "Done!"
						return
					fi
			else
				msgFunc green "Done!"
				return
			fi
			msgFunc green "Done!"
}
